<section xml:id="s_definite_integral">
<title>Definite integral</title>
<definition xml:id="d_definite_integral">
    <title>Definite integral</title>
    <statement>
        <p>
            Let <m>f</m> be a function defined on the interval <m>[a,b]</m>. The <term>definite integral</term> of <m>f</m> over <m>[a,b]</m>, if it exists, is a real number <m>J</m> satisfying the following property: for any sequence of pointed partitions <m>P_n</m> of <m>[a,b]</m> whose norms <m>\norm{P_n}</m> satisfy <m>\lim_{n\rightarrow \infty}\norm{P_n}=0</m>, the associated Riemann sums <m>S_n</m> satisfy 
            <men xml:id="eq_limit_integral">
                \lim_{n\to\infty}S_n=J
            </men>.
            In plain English,
            the definite integral of <m>f</m> over <m>[a,b]</m> is equal to <m>J</m> if any sequence of Riemann sums corresponding to a sequence of finer and finer pointed partitions of <m>[a,b]</m> approaches <m>J</m> in the limit.
          </p>
          <p>
            When this is the case we say <m>f</m> is <term>integrable</term> over <m>[a,b]</m>, and denote the definite integral <m>J</m> as 
            <me>
              \int_a^bf(x)\, dx
            </me>. 
          </p>
    </statement>
</definition>
<algorithm xml:id="proc_limit_integral">
    <title>Limit computation of integral</title>
    
    <statement>
        <p>
            Assume <m>f</m> is integrable on the interval <m>[a,b]</m>.
            Since by definition <m>\displaystyle\int_a^bf(x)\, dx</m> can be computed using any sequence of Riemann sums,
            for simplicity we will often compute it either as a limit of left or right Riemann sums corresponding to partitions of <m>[a,b]</m> into <m>n</m> equal subintervals. To do so, follow the appropriate steps below for your choice of Riemann sum (left or right).  
            <ol>
                <li>
                    <title>Partition description</title>
                    <p>
                        For an equally subdivided partition <m>a=a_0\lt a_1\lt \dots \lt a_n=b</m>, all subintervals have common length 
                        <men xml:id="eq_deltax">
                            \Delta x=\frac{b-a}{n}
                        </men>
                        and we have  
                        <men xml:id="eq_ak">
                            a_k=a+k\Delta x
                        </men>
                        for all <m>0\leq k\leq n</m>. 
                    </p>
                </li>
                <li>
                    <title>Construct Riemann sums</title>
                    <p>
                        Let <m>L_n</m> and <m>R_n</m> be the left and right Riemann sums, respectively, corresponding to the partition of <m>[a,b]</m> into <m>n</m> equal subintervals. It follows from <xref ref="eq_ak"/> it follows that 
                    <mdn>
                        <mrow xml:id="eq_Ln">L_n \amp = \sum_{k=1}^nf(a_{k-1})\Delta x= \sum_{k=1}^nf(a+(k-1)\Delta x)\, \Delta x</mrow>
                        <mrow xml:id="eq_Rn">R_n \amp = \sum_{k=1}^nf(a_{k})\Delta x= \sum_{k=1}^nf(a+k\Delta x)\, \Delta x</mrow>
                    </mdn>
                    </p>
                </li>
                <li>
                    <title>Compute limit</title>
                    <p>
                        We may now compute the integral as either of the limits below: 
                    <mdn>
                        <mrow xml:id="eq_lim_Ln">\int_a^bf(x)\, dx \amp = \lim_{n\to\infty}L_n</mrow>
                        <mrow xml:id="eq_lim_Rn">\int_a^b f(x)\, dx \amp = \lim_{n\to\infty}R_n</mrow>
                    </mdn>
                    When computing these limits, it will be convenient to derive a closed form for the <m>n</m>-th Riemann sum (<m>L_n</m> or <m>R_n</m>, depending on your choice.)
                    </p>
                </li>
            </ol>
          </p>
    </statement>
</algorithm>
<example>
    <title>Integral of linear function</title>
    <statement>
        <p>
            Let <m>f(x)=x</m>. Compute <m>\int_1^3f(x)\, dx</m> first as a limit of right Riemann sums, and then as a limit of left Riemann sums. 
        </p>
    </statement>
    <solution>
        <p>
            Following the steps of xr<xref ref="proc_limit_integral"/> we first assemble ingredients regarding the <m>n</m>-th partition of <m>[1,3]</m>. We have 
            <me>
                \Delta x=(3-1)/n=2/n, a_k=1+k\Delta k=1+2k/n
            </me>.
            Using <xref ref="eq_Rn"/>, for any <m>n\geq 1</m> we have 
            <md>
                <mrow> R_n  \amp = \sum_{k=1}^nf(1+k\Delta x)\,\Delta x </mrow>
                <mrow> \amp = \sum_{k=1}^n(1+2k/n)\cdot (2/n) </mrow>
                <mrow> \amp = \sum_{k=1}^{n}\frac{2}{n}+\sum_{k=1}^{n}\frac{4k}{n^2}</mrow>
                <mrow> \amp = 2+\frac{4}{n^2}\sum_{k=1}^{n}k</mrow>
                <mrow> \amp = 2+\frac{4}{n^2}\cdot (n(n+1)/2)</mrow>
                <mrow> \amp = 2+2\frac{n^2+n}{n^2}</mrow>
            </md>
            
            Using <xref ref="eq_Ln"/>, for any <m>n\geq 1</m> we have 
            <md>
                <mrow> L_n  \amp = \sum_{k=1}^nf(1+(k-1)\Delta x)\,\Delta x </mrow>
                <mrow> \amp = \sum_{k=1}^n(1+2(k-1)/n)\cdot (2/n) </mrow>
                <mrow> \amp =\sum_{k=0}^{n-1}(1+2k/n)\cdot (2/n) \amp \text{(index shift!)}</mrow>
                <mrow> \amp = \sum_{k=0}^{n-1}\frac{2}{n}+\sum_{k=0}^{n-1}\frac{2k}{n^2}</mrow>
                <mrow> \amp = 2+\frac{2}{n^2}\sum_{k=0}^{n-1}k</mrow>
                <mrow> \amp = 2+\frac{2}{n^2}\cdot (n(n-1)/2)</mrow>
                <mrow> \amp = 2+\frac{n^2-n}{n^2}</mrow>
            </md>
             
            
        </p>
    </solution>
</example>
</section>